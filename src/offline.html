<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Нет подключения к интернету - Гостиница "Лесной дворик"</title>
    <style>
        :root {
            --primary-color: #217148;
            --primary-dark: #175735;
            --primary-light: #3c8c63;
            --text-color: #333333;
            --text-light: #666666;
            --background-color: #ffffff;
            --background-light: #f5f5f5;
            --border-color: #dddddd;
            --shadow-light: 0 2px 5px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.1);
            --shadow-dark: 0 6px 12px rgba(0, 0, 0, 0.1);
            --transition-fast: 0.3s ease;
            --transition-medium: 0.5s ease;
            --transition-slow: 0.8s ease;
            --border-radius: 4px;
            --section-padding: 80px;
            --section-padding-mobile: 40px;
            --header-height: 80px;
            --header-height-mobile: 60px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', Arial, sans-serif;
            color: var(--text-color);
            background-color: var(--background-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }
        
        .offline-container {
            max-width: 600px;
            padding: 40px;
            background-color: var(--background-light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
        }
        
        .logo {
            margin-bottom: 30px;
        }
        
        .logo img {
            max-width: 150px;
            height: auto;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--primary-color);
        }
        
        p {
            margin-bottom: 25px;
            font-size: 16px;
        }
        
        .icon {
            font-size: 64px;
            margin-bottom: 20px;
            color: var(--primary-color);
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: background-color var(--transition-fast);
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
        }
        
        .cached-content {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .cached-content h2 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .cached-links {
            list-style: none;
            padding: 0;
        }
        
        .cached-links li {
            margin-bottom: 10px;
        }
        
        .cached-links a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color var(--transition-fast);
        }
        
        .cached-links a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }
        
        @media (prefers-color-scheme: dark) {
            :root {
                --text-color: #f5f5f5;
                --text-light: #bcbcbc;
                --background-color: #121212;
                --background-light: #1e1e1e;
                --border-color: #333333;
            }
        }
        
        @media (max-width: 480px) {
            .offline-container {
                padding: 20px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .icon {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <div class="offline-container">
        <div class="logo">
            <img src="/assets/images/logo.png" alt="Лесной дворик" onerror="this.style.display='none'">
        </div>
        
        <div class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="1" y1="1" x2="23" y2="23"></line>
                <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path>
                <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path>
                <path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path>
                <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                <line x1="12" y1="20" x2="12.01" y2="20"></line>
            </svg>
        </div>
        
        <h1>Нет подключения к интернету</h1>
        
        <p>Похоже, что у вас отсутствует подключение к интернету. Некоторые функции сайта могут быть недоступны.</p>
        
        <button class="btn" onclick="window.location.reload()">Повторить попытку</button>
        
        <div class="cached-content">
            <h2>Доступные страницы в автономном режиме:</h2>
            <ul class="cached-links" id="cached-pages">
                <li><a href="/">Главная страница</a></li>
                <li><a href="/pages/hotel.html">Номера и цены</a></li>
                <li><a href="/pages/contacts.html">Контакты</a></li>
            </ul>
        </div>
    </div>
    
    <script>
        // Проверка доступности сети при загрузке страницы
        window.addEventListener('online', function() {
            window.location.reload();
        });
        
        // Динамическое обновление списка доступных страниц из кэша
        if ('caches' in window) {
            caches.open('lesnoy-dvorik-cache-v1.0.0').then(function(cache) {
                cache.keys().then(function(requests) {
                    const htmlRequests = requests.filter(request => 
                        request.url.endsWith('.html') && 
                        !request.url.includes('offline.html')
                    );
                    
                    if (htmlRequests.length > 0) {
                        const cachedPagesList = document.getElementById('cached-pages');
                        cachedPagesList.innerHTML = '';
                        
                        htmlRequests.forEach(request => {
                            const url = new URL(request.url);
                            const path = url.pathname;
                            let title = path === '/' || path === '/index.html' 
                                ? 'Главная страница' 
                                : path.split('/').pop().replace('.html', '');
                            
                            // Преобразование названий страниц
                            switch (title) {
                                case 'hotel': title = 'Номера и цены'; break;
                                case 'contacts': title = 'Контакты'; break;
                                case 'gallery': title = 'Галерея'; break;
                                case 'restaurant': title = 'Ресторан'; break;
                                case 'sauna': title = 'Сауна'; break;
                                case 'banquet': title = 'Банкетный зал'; break;
                                case 'reviews': title = 'Отзывы'; break;
                                case 'booking': title = 'Бронирование'; break;
                                // Добавьте другие страницы по необходимости
                            }
                            
                            const li = document.createElement('li');
                            const a = document.createElement('a');
                            a.href = path;
                            a.textContent = title;
                            li.appendChild(a);
                            cachedPagesList.appendChild(li);
                        });
                    }
                });
            });
        }
    </script>
</body>
</html> 